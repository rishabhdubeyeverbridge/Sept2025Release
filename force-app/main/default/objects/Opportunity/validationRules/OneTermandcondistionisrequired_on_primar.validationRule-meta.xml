<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>OneTermandcondistionisrequired_on_primar</fullName>
    <active>true</active>
    <errorConditionFormula>AND (
ISCHANGED( StageName ),
NOT (ISPICKVAL(StageName ,&quot;1-Discover&quot;)),
NOT (ISPICKVAL(StageName ,&quot;7-Closed Lost&quot;)),
NOT (ISPICKVAL(StageName ,&quot;8-SAL Disqualified&quot;)),
NOT( $Setup.ByPass__c.Opportunity_Validation_Rule_Bypass__c ),
 $Profile.Id &lt;&gt;&quot;00e30000000m0kO&quot;,
 $Profile.Id &lt;&gt;&quot;00e3x000002SWcm&quot;,

NOT(ISBLANK( SBQQ__PrimaryQuote__c )),


(IF(SBQQ__PrimaryQuote__r.CMAS_Terms__c = FALSE, 0, 1) +
 IF( SBQQ__PrimaryQuote__r.GSA_Terms__c= FALSE, 0,1) + 
IF(SBQQ__PrimaryQuote__r.NCR_Terms__c= FALSE , 0, 1) +
IF(SBQQ__PrimaryQuote__r.Partner_Quote_Terms_Renewal__c= FALSE , 0, 1) +
IF( SBQQ__PrimaryQuote__r.Partner_Terms_New_Bus_w_out_Flow_Thru__c= FALSE , 0, 1) + 
IF(SBQQ__PrimaryQuote__r.Corp_Terms_Under_10k__c = FALSE,0,1) +
IF(SBQQ__PrimaryQuote__r.Redsky_Direct_Renewal_Terms__c = FALSE,0,1) +
 IF(SBQQ__PrimaryQuote__r.Redsky_Partners_w_out_Flow_Through__c= FALSE,0,1)+
 IF(SBQQ__PrimaryQuote__r.RedSky_Partners_With_Flow_Through__c= FALSE,0,1) +
 IF(SBQQ__PrimaryQuote__r.Standard_Terms__c= FALSE,0,1) +
 IF(SBQQ__PrimaryQuote__r.Tech_Data_Terms__c = FALSE,0,1) + 
IF( SBQQ__PrimaryQuote__r.VITA_Terms__c = FALSE,0,1)+ IF(SBQQ__PrimaryQuote__r.xM_Renewal_Terms__c = FALSE, 0,1)+
IF(SBQQ__PrimaryQuote__r.Anvil_Renewal_Terms__c = FALSE, 0,1)+
IF( SBQQ__PrimaryQuote__r.Legacy_Minute_Terms__c = FALSE, 0,1)+
IF(SBQQ__PrimaryQuote__r.Redsky_Direct_New_Business__c
=FALSE, 0,1)
 
&lt;&gt; 1)

)</errorConditionFormula>
    <errorMessage>At least one term &amp; condition is required on Primary Quote</errorMessage>
</ValidationRule>
